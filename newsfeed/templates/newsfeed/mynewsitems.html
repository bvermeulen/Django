{% extends 'base.html' %}

{% block navbutton %}
<ul class="navbar-nav mr-auto">
  <li class="nav-item dropdown">
    <a class="nav-link navbar-toggler-icon mr-1" href="#" data-toggle="dropdown"
       aria-haspopup="true" aria-expanded="false">
    </a>
    <div class="dropdown-menu dropdown-menu-left" aria-labelledby="mainMenu">
      <a class="dropdown-item active">My News</a>
      <a class="dropdown-item" href="{% url 'newspage' %}">News</a>
      <a class="dropdown-item" href="{% url 'home' %}">Home</a>
    </div>
  </li>
</ul>
{% endblock %}

{% block content %}
<form id="newsitemform" method="post">
{% csrf_token %}
<table class="table table-striped mb-4">
  <thead class="thead-inverse">
  <tr>
    <th>Site</th>
    <th style="min-width:110px;">Date</th>
    <th>Item</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  {% for item in newsitems %}
    <tr>
    <td class="align-middle">
      <input type="submit" class="align-middle btn btn-link" name="site_btn" value="{{ item.news_site.news_site }}">
    </td>
    <td class="align-middle align-left">{{ item.published|date:"d b Y" }}</td>
    <td class="align-middle">{{ item.title }}
      <a href="{{ item.link}}">  (link)</a></td>
    <td>
      <button class="btn btn-outline-secondary btn-sm" name="deleted_item_pk"
              value="{{ item.pk }}" onclick="return Validate()">Delete</button>
    </td>
    </tr>
  {% endfor %}
</table>
</form>
<br><br><br><br>
{% endblock content %}

{% block javascript %}
<script>
  function Validate() {
  	confirmed = confirm('Do you really want to delete this item?');
    if (confirmed) {
      return true;
    }
    else {
      return false;
    }
  }
</script>
{% endblock %}
