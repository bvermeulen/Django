<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

    <title>Portfolio</title>

    <link href="/static/plugins/css/ace.min.css" type="text/css" media="all" rel="stylesheet" />
    <link href="/static/plugins/css/semantic.min.css" type="text/css" media="all" rel="stylesheet" />
    <link href="/static/plugins/css/resizable.min.css" type="text/css" media="all" rel="stylesheet" />
    <link href="/static/martor/css/martor.min.css" type="text/css" media="all" rel="stylesheet" />


    <link href="https://fonts.googleapis.com/css?family=Peralta|Teko|Russo+One" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/app.css">
    <link rel="stylesheet" href="/static/css/container-styles.css">
    <link rel="stylesheet" href="/static/css/addons/datatables.min.css">
    <link rel="icon" href="/static/img/favicon.ico">

    
  <link rel="stylesheet" type="text/css" href="/static/css/container-styles.css">


  </head>

  <body>
  
  <nav class="navbar fixed-top navbar-expand-md navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="/">Howdiweb</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mainMenu">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mainMenu">
        <div class="mb-1">
          
<ul class="navbar-nav mr-auto">
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle mr-1" href="#" data-toggle="dropdown">
      Portfolio
    </a>
    <div class="dropdown-menu dropdown-menu-left">
      <a class="dropdown-item" href="/finance/stock_quote/">Stock Quotes</a>
      <a class="dropdown-item" href="/">Home</a>
    </div>
  </li>
</ul>

        </div>
        <div class="mb-1">
          
            <a class="btn btn-link" style="color: white" href="/boards/">Boards</a>
          
          <a class="btn btn-link" style="color: white" href="/news/">News</a>
          <a class="btn btn-link" style="color: white" href="/finance/stock_quote/">Stock quote</a>
        </div>
        
          <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">
                test_user
              </a>
              <div class="dropdown-menu dropdown-menu-left">
                <a class="dropdown-item" href="/news/mynewsitems/">My news</a>
                <a class="dropdown-item" href="/finance/portfolio/">My portfolio</a>
                <a class="dropdown-item" href="/settings/account/">My account</a>
                <a class="dropdown-item" href="/settings/password/">Change password</a>
                
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="/logout/">Log out</a>
              </div>
            </li>
          </ul>
        
      </div>
    </div>
  </nav>

  <div class="container" style="padding-top: 85px">
    
    
  <form id="id_portfolio" method="post">
    <input type="hidden" name="csrfmiddlewaretoken" value="7c9Z9zLqnUmNGSoAORveM6IlYqRVxBfqExuaqXVficJjyNM9Zpv8RoIq3mfAYOzr">
    <a style="display: none"><input type="text" name="new_portfolio" id="id_new_portfolio"> <input type="text" name="portfolio_name" value="test_portfolio" size="10vw" maxlength="20" id="id_portfolio_name">
                             <select name="portfolios" id="id_portfolios">
  <option value="test_portfolio" selected>test_portfolio</option>

</select> <select name="currencies" id="id_currencies">
  <option value="EUR" selected>EUR</option>

  <option value="USD">USD</option>

</select>
                             <input type="text" name="symbol" size="10vw" maxlength="10" id="id_symbol"></a>

    <div class="d-flex">
      <div class="dropdown">
        <button type="button" class="dropdown-toggle btn btn-outline-primary btn-sm">
          
            test_portfolio
          
        </button>
        <div class="dropdown-content">
          <button class="btn btn-primary btn-sm my-1" onclick="return PromptNewPortfolioName()">New</button>

          
            <button class="btn btn-primary btn-sm my-1" name="btn1_pressed"
              value="rename_portfolio"
              onclick="return RenamePortfolio('test_portfolio')">
              Rename</button>

            <button class="btn btn-primary btn-sm my-1" name="btn1_pressed"
              value="delete_portfolio"
              onclick="return ConfirmDeletePortfolio('test_portfolio')">
              Delete</button>
          

          <div class="dropdown-divider"></div>
          
            
          
        </div>
      </div>

      
        <div>
          <button class="btn btn-outline-primary btn-sm mx-1" name="btn1_pressed"
            value="add_new_symbol"
            onclick="return AddSymbol('')">
            Add symbol</button>
        </div>

        <div class="ml-auto">
          <strong>Value:</strong>
          <strong class="mr-2">2,460</strong>
          <strong class="mr-0">Change:</strong>
          <strong class="mr-2" style="color:red">▼ -1.44</strong>
          <div class="dropdown">
            <button type="button" class="btn dropdown-toggle btn-outline-primary btn-sm">EUR</button>
            <div class="dropdown-content">
              
                
              
                
                  <button class="btn btn-link" value="USD"
                    name="currencies">USD</button>
                
              
            </div>
          </div>
        </div>
      
    </div>

    <div class="table-responsive text-nowrap" style="overflow: hidden">
    <table id="dtHorizontalVerticalScroll" class="table table-striped mb-2 mt-1 table-sm" cellspacing="0" width="100%">
      <thead class="col-sm-8 custom-thead-grey">
        <tr>
          <th width="17%">Company</th>
          <th width="10%">Symbol</th>
          <th width="10%">Currency</th>
          <th width="10%">Price</th>
          <th width="10%">Qty</th>
          <th width="10%">Value<br>(EUR)</th>
          <th width="3%"></th>
          <th width="10%">Change<br>(EUR)</th>
          <th width="10%"></th>
          <th width="10%"></th>
        </tr>
      </thead>
      <tbody>
        
        
          <tr>
            <td width="17%"><a href="/finance/stock_intraday/portfolio/AAPL/">Apple Inc.</a></td>
            <td width="10%">AAPL</td>
            <td width="10%">USD</td>
            <td width="10%">273.36</td>

            
              <td width="10%">10</td>
              <td width="10%">2,460</td>
              <td style="width: 3%; color:red">▼</td>
              <td style="width: 10%; color:red">-1.44</td>
              <td width="10%">
                <button class="btn btn-outline-secondary btn-sm" name="change_qty_btn_pressed"
                        value="AAPL, "
                        onclick="return ChangeQuantity('Apple Inc.',
                                                       '10',
                                                       '0')">Change</button>
              </td>
              

            

            <td width="10%">
              <button class="btn btn-outline-secondary btn-sm" name="delete_symbol_btn_pressed"
                      value="AAPL" onclick="return ConfirmDeleteSymbol('Apple Inc.' )">Delete</button>
            </td>
          </tr>
        
      </tbody>
    </table>
    </div>
    <small>Data provided by <a href="https://www.worldtradingdata.com">www.worldtradingdata.com</a></small>

  </form>
  <br><br><br><br>

    <div class="footer">
      <div class="container">
        <small>powered by DigitalOcean<a style="color:black" href="https://www.digitalocean.com/"></small>
        <img src="/static/img/512px-DigitalOcean_logo.png" style="width:40px; height:30px; vertical-align:middle"></a>
        <span style="float:right;"><small>&copy; 2020 Howdimain</small></span>
      </div>
    </div>
  </div>
  

  <script src="/static/js/jquery-3.3.1.min.js"></script>
  <script src="/static/js/popper.min.js"></script>
  <script src="/static/js/bootstrap.min.js"></script>
  <script src="/static/js/addons/datatables.min.js"></script>

  <script src="/static/plugins/js/ace.js"></script>
  <script src="/static/plugins/js/semantic.min.js"></script>
  <script src="/static/plugins/js/mode-markdown.js"></script>
  <script src="/static/plugins/js/ext-language_tools.js"></script>
  <script src="/static/plugins/js/theme-github.js"></script>
  <script src="/static/plugins/js/highlight.min.js"></script>
  <script src="/static/plugins/js/resizable.min.js"></script>
  <script src="/static/plugins/js/emojis.min.js"></script>
  <script src="/static/martor/js/martor.min.js"></script>

  <script src="/static/js/mdbtools.js"></script>

  
<script>
var form = document.getElementById('id_portfolio');

function PromptNewPortfolioName() {
  var newPortfolio = prompt('What is the name of the new portfolio', '');

  if (newPortfolio != null && newPortfolio != '' && newPortfolio != "''") {
    form.new_portfolio.value = newPortfolio;
    return true;
  }
  else {
    return false;
  }
}

function RenamePortfolio(name) {
  var newName = prompt('Give a new name for portfolio: ' + name);

  if (newName != null && newName != '' && newName != "''") {
    form.portfolio_name.value = newName;
    return true;
  }
  else {
    return false;
  }
}

function ConfirmDeletePortfolio(portfolio) {
  confirmed = confirm('Do you really want to delete portfolio: ' + portfolio + '?');
  if (confirmed) {
    return true;
  }
  else {
    return false;
  }
}

function AddSymbol(symbol) {
  var newSymbol = prompt('Add a stock symbol', symbol);

  if (newSymbol != null && newSymbol != '' && newSymbol != "''") {
    form.symbol.value = newSymbol;
    return true;
  }
  else {
    return false;
  }
}

function ChangeQuantity(name, qty, counter) {
  var newQuantity = prompt('Change quantity for ' + name, qty);
  newQuantity = parseFloat(newQuantity);
  qty = parseFloat(qty);

  if (newQuantity >= 0 && newQuantity != qty) {
    // if there is only one change button then change_qty_btn_pressed is not an array
    try {
      var a = form.change_qty_btn_pressed[counter].value;
      form.change_qty_btn_pressed[counter].value += newQuantity;
    }
    catch(err) {
      form.change_qty_btn_pressed.value += newQuantity;
    }
    return true;
  }
  else {
    return false;
  }
}

function ConfirmDeleteSymbol(companyName) {
  confirmed = confirm('Do you really want to delete ' + companyName + '?');
  if (confirmed) {
    return true;
  }
  else {
    return false;
  }
}

</script>

  </body>
</html>
